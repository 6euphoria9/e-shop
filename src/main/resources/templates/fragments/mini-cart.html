<div th:fragment="miniCart">
    <div class="mini-cart border p-3 bg-light rounded" style="position: fixed; top: 20px; right: 20px; width: 300px;">
        <h5>Корзина</h5>
        <div th:if="${cartItems != null}">
            <div th:if="${cartItems.isEmpty()}">
                <p>Корзина пуста</p>
            </div>
            <div th:each="item : ${cartItems}" class="d-flex justify-content-between align-items-center mb-2">
                <div th:each="item : ${cartItems}" class="d-flex justify-content-between align-items-center mb-2">
                    <span th:text="${item.product.name}"></span>
                    <div class="d-flex align-items-center">
                        <form th:action="@{/cart/decrement}" method="post" style="margin-right: 5px;">
                            <input type="hidden" name="productId" th:value="${item.product.id}" />
                            <button type="submit" class="btn btn-sm btn-outline-secondary">-</button>
                        </form>
                        <span th:text="${item.quantity}" class="mx-2"></span>
                        <form th:action="@{/cart/increment}" method="post" style="margin-left: 5px;">
                            <input type="hidden" name="productId" th:value="${item.product.id}" />
                            <button type="submit" class="btn btn-sm btn-outline-secondary">+</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div th:if="${cartItems == null}">
            <p>Корзина пуста</p>
        </div>

        <a href="/cart" class="btn btn-primary btn-sm mt-3 w-100">Завершить заказ</a>
    </div>
</div>
